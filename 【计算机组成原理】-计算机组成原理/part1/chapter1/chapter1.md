- [第 1 章 计算机体系结构](#第-1-章-计算机体系结构)
  - [1.1 什么是计算机体系结构](#11-什么是计算机体系结构)
  - [1.2 体系结构和组成](#12-体系结构和组成)
    - [1.2.1 计算机系统和技术](#121-计算机系统和技术)
    - [1.2.2 计算机体系结构在计算机科学中的地位](#122-计算机体系结构在计算机科学中的地位)
  - [1.3 计算机的发展](#13-计算机的发展)
    - [1.3.1 机械计算机](#131-机械计算机)
    - [1.3.2 机电式计算机](#132-机电式计算机)
    - [1.3.3 早期的电子计算机](#133-早期的电子计算机)
    - [1.3.4 微机和PC革命](#134-微机和pc革命)
    - [1.3.5 摩尔定律和进步的历程](#135-摩尔定律和进步的历程)
    - [1.3.6 存储技术发展](#136-存储技术发展)
    - [1.3.7 普适计算](#137-普适计算)
    - [1.3.8 多媒体计算机](#138-多媒体计算机)
  - [1.4 存储程序计算机](#14-存储程序计算机)
    - [1.4.1 问题描述](#141-问题描述)
    - [1.4.2 解决方法](#142-解决方法)
    - [1.4.3 构造一个算法](#143-构造一个算法)
    - [1.4.4 计算机需要通过什么来解决问题](#144-计算机需要通过什么来解决问题)
    - [1.4.5 存储器](#145-存储器)
  - [1.5 存储程序的概念](#15-存储程序的概念)
  - [1.6 计算机系统概述](#16-计算机系统概述)
    - [1.6.1 存储层次](#161-存储层次)
    - [1.6.2 总线](#162-总线)
  - [1.7 现代计算](#17-现代计算)
  - [本章小节](#本章小节)
  - [习题](#习题)

# 第 1 章 计算机体系结构

## 1.1 什么是计算机体系结构

**计算机系统（computer system）**

- **中央处理器（central processing unit，CPU）**：读取并执行程序。
- **存储器**：保存程序和数据。
- **输入输出子系统**。

------

其他概念

**处理器**：CPU，计算机中实际执行程序的部分。

**微处理器**：单个硅片中实现的CPU。

**微机**：围绕微处理器构建的计算机。

------

一个简单的通用计算机（个人计算机或工作站）：

<div align=center>
  <img src="images\计算机系统的结构.png" title="计算机系统体系结构概览" height="50%" width="50%">
</div>


信息（程序和数据）保存在存储器中，存储系统包括

- Cache：存放常用数据的高速、专用存储器。
- 主存：存放大量工作数据。
- 辅存：磁盘和 CD-ROM，存放海量数据。

*什么是计算机*

1. 一台接收并处理输入信息、产生输出结果的可编程数字计算机：

<div align=center>
  <img src="images\通用计算机.png" title="通用计算机" height="50%" width="50%">
</div>


- 输入（input）：用户交给计算机的信息。
- 输出（output）：计算机返回用户的信息。

> 第一台数字计算机并不是通用计算机，通过硬连线（hardwired）完成特定任务

**硬连线（hardwired）**：计算机的功能（程序）只能通过重新布线来改变。

2. 一台接收并处理输入信息、产生输出结果的可编程数字计算机（更加详细）

<div align=center>
  <img src="images\存储程序计算机.png" title="存储程序计算机" height="50%" width="50%">
</div>


- 中央处理器：读取程序并完成程序指定的操作。
- 存储器：保存两类信息，程序和程序处理产生的数据。

存储器（数据）<->中央处理器

- 写周期：程序产生的数据从 CPU 写回存储器
- 读周期：CPU 请求的数据从存储器送往 CPU

存储器（程序）->中央处理单元

- CPU 从存储器中一条条读出程序中的指令

很少有计算机在 CPU 和存储器之间设置两条独立的信息通路。大多数计算机在CPU和存储器系统之间仅有一条信息通路，数据和指令要轮流使用这条通路。之所以画出两条通路，是为了强调存储器中既保存了组成程序的指令，也保存了程序所用的数据。

**哈佛体系结构（Harvard architecture）**：数据和指令放在不同的存储器中（或者使用不同的总线传输数据和指令）。

> 程序：计算机从存储器中读出指令并执行这些指令（即完成或执行指令定义的动作）。
>
> 数据：执行指令时，可能要从存储器中读出数据，对数据进行操作，将数据写回存储器。

------

- 寄存器是 CPU 内部用来存放数据的存储单元。

- 时钟提供了脉冲流，所有内部操作都在时钟脉冲的触发下进行。
- 时钟频率是决定计算机速度的一个因素。


$$
Z=X+Y
$$

<div align=center>
  <img src="images\执行一个程序.png" title="存储程序计算机" height="50%" width="50%">
</div>


$\text { LOAD X }$：从存储器中读出变量 $X$ 的值，暂存在寄存器中

$\text { LOAD Y }$：从存储器中读出变量 $Y$ 的值，暂存在寄存器中

$\text { Z=X+Y }$：将两个寄存器中的内容相加

$\text { STORE Z }$：将加法写回存储器存储单元 $Z$

$STOP$：程序终止

除了对数据进行计算和操作，还有测试数据，根据测试结果从两个候选的指令流中选出一个执行。

------

> 计算机指令：下面 6 条指令可以将所有计算机的指令进行分类。
>
> 1. $\text { MOV A,B }$：将 $B$ 的值复制到 $A$
> 2. $\text { LOAD A,B }$：将存储单元 $B$ 的值复制到寄存器 $A$ 中
> 3. $\text { STORE A,B }$：将寄存器 $B$ 的值复制到存储 $A$ 中
> 4. $\text { ADD A,B }$：$A$ 与 $B$ 相加，结果保存在 $A$ 中
> 5. $\text { TEST A,B }$：测试 $A$ 的值是否为 0
> 6. $\text { BEQ A,B }$：若最后一次测试结果为 $TRUE$，执行地址 $Z$ 处的代码，否则继续执行。

## 1.2 体系结构和组成

**（计算机）体系结构（Architecture）**

**（计算机）组成（organization）**：（计算机）体系结构的具体实现。

> **寄存器**是用来存放一个单位的数据或字数据的存储单元。
>
> 寄存器通常用它所保存数据的位数来描述，典型的有8位、16位、32位和64位。
>
> 寄存器与存储器中的字存储单元没有本质区别。二者的实际差别在于，寄存器位于 CPU 内，它的访问速度远远快于站问 CPU 外的存储器。

> 计算机体系结构通常被认为是程序员视角中的计算机。
>
> 程序员所看到的是计算机的抽象视图。

**指令集体系结构（instruction architecture，ISA）**：计算机体系结构的抽象视图。

**微体系结构（microarchitecture）**：通常使用。

举例：体系结构 & 组成

报时工具——时钟

- 体系结构：在有刻度的表盘上转动指针。
- 组成：
  - 机械式的飞轮或钟摆
  - 电子式的石英晶体振荡器
  - 无线电波进行外部控制

------

> **机器码（machine code）**：计算机上可执行的代码表示为二进制 0 和 1 组成的串。
>
> 每种计算机只能执行一种特定的机器码。
>
> **汇编语言**：人类可读的机器码。
>
> **高级语言**：能够在类型完全不同的计算机上运行，与底层计算机体系结构几乎没有任何关系的代码。

### 1.2.1 计算机系统和技术

### 1.2.2 计算机体系结构在计算机科学中的地位

## 1.3 计算机的发展

### 1.3.1 机械计算机

### 1.3.2 机电式计算机

### 1.3.3 早期的电子计算机

### 1.3.4 微机和PC革命

### 1.3.5 摩尔定律和进步的历程

### 1.3.6 存储技术发展

### 1.3.7 普适计算

### 1.3.8 多媒体计算机

## 1.4 存储程序计算机

### 1.4.1 问题描述

### 1.4.2 解决方法

### 1.4.3 构造一个算法

### 1.4.4 计算机需要通过什么来解决问题

### 1.4.5 存储器

## 1.5 存储程序的概念

## 1.6 计算机系统概述

### 1.6.1 存储层次

### 1.6.2 总线

## 1.7 现代计算

## 本章小节

## 习题